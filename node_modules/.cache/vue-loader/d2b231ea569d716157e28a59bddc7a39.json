{"remainingRequest":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\src\\views\\teacher\\add\\addProjectType.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\src\\views\\teacher\\add\\addProjectType.vue","mtime":1618813302136},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616485460902},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\babel-loader\\lib\\index.js","mtime":1616485540067},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616485460902},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\vue-loader\\lib\\index.js","mtime":1616485526728}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios';\nimport {\n\tMessage\n} from 'element-ui';\nexport default {\n\tname: \"AddProjectType\",\n\tdata() {\n\t\treturn {\n\t\t\ttableData: [],\n\t\t\tcurrentPage: 1,\n\t\t\tdialogFormVisible: false,\n\n\t\t\tform: {\n\t\t\t\tproject_type: ''\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tcancelAdd() {\n\t\t\tthis.dialogFormVisible = false\n\t\t\tMessage.error(\"已取消\")\n\t\t},\n\t\tconfirmAdd() {\n\t\t\tthis.dialogFormVisible = false\n\t\t\tthis.connectMySql()\n\n\t\t},\n\t\tconnectMySql() {\n\t\t\tlet that = this\n\t\t\taxios.post(\"http://localhost:8080/api/projectTypes/insertProjectType\", {\n\t\t\t\t\tproject_type: this.form.project_type\n\t\t\t\t})\n\t\t\t\t.then(function(response) {\n\n\t\t\t\t\tthat.dialogFormVisible = false\n\t\t\t\t\tif (response.data === true) {\n\t\t\t\t\t\tthat.$_update()\n\t\t\t\t\t\tMessage.success(\"选题成功\")\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tMessage.warning(\"类型重复\")\n\t\t\t\t\t}\n\n\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\n\t\t\t\t\tthat.dialogFormVisible = false\n\n\t\t\t\t\tMessage.error(error.response.data)\n\t\t\t\t})\n\n\t\t},\n\t\thandleCurrentChange(val) {\n\t\t\tthis.currentPage = val;\n\t\t},\n\t\tindexMethod(index) {\n\t\t\treturn (this.currentPage - 1) * 10 + index + 1\n\t\t},\n\t\t$_update() {\n\t\t\tlet that = this\n\t\t\taxios.get(\"http://localhost:8080/api/projectTypes/selectAllProjectType\")\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tthat.tableData = response.data\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\tMessage.error(\"请检查网络\")\n\t\t\t\t})\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.$_update()\n\t}\n}\n",{"version":3,"sources":["addProjectType.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addProjectType.vue","sourceRoot":"src/views/teacher/add","sourcesContent":["<template>\r\n\t<div style=\"background-color: #FFFFFF;\">\r\n\r\n\t\t<!-- 上半部分 -->\r\n\t\t<div style=\"height: 60px;\">\r\n\t\t\t<div style=\"padding: 12px;float: right;margin-right: 20px;\">\r\n\t\t\t\t<el-button type=\"primary\" @click=\"dialogFormVisible = true\">\r\n\t\t\t\t\t<i class=\"iconfont icon-tainjia\"></i>\r\n\t\t\t\t\t添加项目类型</el-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\r\n\t\t<!-- 下半部分 -->\r\n\t\t<div style=\"height: 570px;\">\r\n\t\t\t<div style=\"padding: 12px;\">\r\n\t\t\t\t<el-table :data=\"tableData.slice((currentPage-1)*10,currentPage*10)\" style=\"width: 100%\" height=\"520px\">\r\n\t\t\t\t\t<el-table-column label=\"#\" :index=\"indexMethod\" type=\"index\" align=\"center\"></el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"id\" label=\"项目类型编号\" align=\"center\" />\r\n\t\t\t\t\t<el-table-column prop=\"project_type\" label=\"项目类型\" align=\"center\" />\r\n\t\t\t\t</el-table>\r\n\r\n\t\t\t\t<el-pagination @current-change=\"handleCurrentChange\" :current-page.sync=\"currentPage\" :page-size=\"10\"\r\n\t\t\t\t\tlayout=\"total, prev, pager, next\" :total='tableData.length' style=\"float: right;\">\r\n\t\t\t\t</el-pagination>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- 添加项目类型嵌套表单 -->\r\n\t\t<el-dialog title=\"添加\" :visible.sync=\"dialogFormVisible\" style=\"width: 700px;margin-left: 30%;margin-top: 5%;\">\r\n\t\t\t<el-form :model=\"form\">\r\n\t\t\t\t<el-form-item label=\"项目类型\">\r\n\t\t\t\t\t<el-input v-model=\"form.project_type\" style=\"width: 200px;\">\r\n\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"cancelAdd()\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"confirmAdd()\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios';\r\n\timport {\r\n\t\tMessage\r\n\t} from 'element-ui';\r\n\texport default {\r\n\t\tname: \"AddProjectType\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t\tdialogFormVisible: false,\r\n\r\n\t\t\t\tform: {\r\n\t\t\t\t\tproject_type: ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcancelAdd() {\r\n\t\t\t\tthis.dialogFormVisible = false\r\n\t\t\t\tMessage.error(\"已取消\")\r\n\t\t\t},\r\n\t\t\tconfirmAdd() {\r\n\t\t\t\tthis.dialogFormVisible = false\r\n\t\t\t\tthis.connectMySql()\r\n\r\n\t\t\t},\r\n\t\t\tconnectMySql() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\taxios.post(\"http://localhost:8080/api/projectTypes/insertProjectType\", {\r\n\t\t\t\t\t\tproject_type: this.form.project_type\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response) {\r\n\r\n\t\t\t\t\t\tthat.dialogFormVisible = false\r\n\t\t\t\t\t\tif (response.data === true) {\r\n\t\t\t\t\t\t\tthat.$_update()\r\n\t\t\t\t\t\t\tMessage.success(\"选题成功\")\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tMessage.warning(\"类型重复\")\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\r\n\t\t\t\t\t\tthat.dialogFormVisible = false\r\n\r\n\t\t\t\t\t\tMessage.error(error.response.data)\r\n\t\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\tthis.currentPage = val;\r\n\t\t\t},\r\n\t\t\tindexMethod(index) {\r\n\t\t\t\treturn (this.currentPage - 1) * 10 + index + 1\r\n\t\t\t},\r\n\t\t\t$_update() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\taxios.get(\"http://localhost:8080/api/projectTypes/selectAllProjectType\")\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tthat.tableData = response.data\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tMessage.error(\"请检查网络\")\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$_update()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"]}]}