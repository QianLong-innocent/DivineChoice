{"remainingRequest":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\src\\views\\teacher\\add\\myProject.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\src\\views\\teacher\\add\\myProject.vue","mtime":1621393718080},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616485460902},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\babel-loader\\lib\\index.js","mtime":1616485540067},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616485460902},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\vue-loader\\lib\\index.js","mtime":1616485526728}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios';\nimport {\n\tMessage\n} from 'element-ui';\nexport default {\n\tname: \"MyProject\",\n\tdata() {\n\t\treturn {\n\t\t\tprofessional: '',\n\t\t\ttableData: [],\n\t\t\tcurrentPage: 1,\n\t\t\tloading: false,\n\t\t\tdialogFormVisible: false,\n\t\t\tform: {\n\t\t\t\tvolunteer: '',\n\t\t\t\tproject_name: '',\n\t\t\t\tproject_newName: '',\n\t\t\t\tproject_content: ''\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tcancelEdit() {\n\t\t\tthis.dialogFormVisible = false\n\t\t\tMessage.error(\"取消编辑\")\n\t\t},\n\t\tconfirmEdit() {\n\n\t\t\tthis.dialogFormVisible = false\n\n\n\t\t\tthis.$confirm('此操作将修改被选信息, 是否继续?', '提示', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t}).then(() => {\n\n\t\t\t\tlet that = this\n\t\t\t\taxios.put(\"http://localhost:8080/api/teacherProjects/updateProjectNameAndContent\", {\n\t\t\t\t\t\tproject_name: this.form.project_name,\n\t\t\t\t\t\tproject_newName: this.form.project_newName,\n\t\t\t\t\t\tproject_content: this.form.project_content,\n\t\t\t\t\t\tprofessional: this.professional\n\t\t\t\t\t})\n\t\t\t\t\t.then(function(response) {\n\n\t\t\t\t\t\tthat.dialogFormVisible = false\n\n\t\t\t\t\t\tthat.$message({\n\t\t\t\t\t\t\tmessage: '编辑成功',\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\tduration: '1000',\n\t\t\t\t\t\t\tcenter: true\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthat.loading = true\n\t\t\t\t\t\tthat.timer = setTimeout(() => { //设置延迟执行\n\t\t\t\t\t\t\tthat.loading = false\n\t\t\t\t\t\t\tthat.searchTeacherProject()\n\t\t\t\t\t\t}, 1000);\n\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(error) {\n\n\t\t\t\t\t\tthat.dialogFormVisible = false\n\n\t\t\t\t\t\tMessage.error(error.response.data)\n\t\t\t\t\t})\n\t\t\t}).catch(() => {\n\t\t\t\tthis.$message({\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\tmessage: '已取消'\n\t\t\t\t});\n\t\t\t});\n\n\t\t},\n\t\tclickRowHandle(index, row) {\n\t\t\tthis.$refs.evtTable.toggleRowExpansion(row);\n\t\t},\n\t\thandleEdit(index, row) {\n\n\t\t\t// console.log(row)\n\t\t\tthis.dialogFormVisible = true\n\t\t\tthis.form.project_name = row.project_name\n\t\t\tthis.form.project_newName = row.project_name\n\t\t\tthis.form.project_content = row.project_content\n\n\t\t},\n\t\thandleDelete(index, row) {\n\t\t\t// console.log(row)\n\t\t\tthis.$confirm('此操作将删除被选学生, 是否继续?', '提示', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t}).then(() => {\n\n\t\t\t\tlet that = this\n\n\t\t\t\taxios.post(\"http://localhost:8080/api/teacherProjects/deleteProject\", {\n\t\t\t\t\t\tproject_id: row.project_id,\n\t\t\t\t\t\tproject_name: row.project_name,\n\t\t\t\t\t\tprofessional: row.professional\n\t\t\t\t\t})\n\t\t\t\t\t.then(function(response) {\n\n\t\t\t\t\t\tthat.$message({\n\t\t\t\t\t\t\tmessage: '删除成功',\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\tduration: '1000',\n\t\t\t\t\t\t\tcenter: true\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthat.loading = true\n\t\t\t\t\t\tthat.timer = setTimeout(() => { //设置延迟执行\n\t\t\t\t\t\t\tthat.loading = false\n\t\t\t\t\t\t\tthat.searchTeacherProject()\n\t\t\t\t\t\t}, 1000);\n\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(error) {\n\n\t\t\t\t\t\tMessage.error(error.response.data)\n\t\t\t\t\t})\n\n\n\t\t\t}).catch(() => {\n\t\t\t\tthis.$message({\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\tmessage: '已取消'\n\t\t\t\t});\n\t\t\t});\n\n\n\n\t\t},\n\t\thandleCurrentChange(val) {\n\t\t\tthis.currentPage = val;\n\t\t},\n\t\tindexMethod(index) {\n\t\t\treturn (this.currentPage - 1) * 10 + index + 1\n\t\t},\n\t\tsearchTeacherProject() {\n\t\t\tlet that = this\n\n\t\t\taxios.get(\"http://localhost:8080/api/teacherProjects/\" + this.professional, {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tteacherName: JSON.parse(that.$store.state.token).name\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tthat.tableData = response.data\n\t\t\t\t\tMessage.success(\"查询成功\")\n\t\t\t\t\tdocument.getElementById('paging').style.display = 'block'\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\t// console.log(error)\n\t\t\t\t\tMessage.error(\"请检查网络\")\n\t\t\t\t})\n\t\t}\n\t}\n}\n",{"version":3,"sources":["myProject.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"myProject.vue","sourceRoot":"src/views/teacher/add","sourcesContent":["<template>\r\n\t<div style=\"background-color: #FFFFFF;\">\r\n\r\n\t\t<!-- 上半部分 -->\r\n\t\t<div style=\"height: 60px;\">\r\n\t\t\t<div style=\"padding: 12px;\">\r\n\t\t\t\t&nbsp;\r\n\t\t\t\t学生专业\r\n\t\t\t\t&emsp;\r\n\t\t\t\t<el-select placeholder=\"\" v-model=\"professional\">\r\n\t\t\t\t\t<el-option label=\"计算机科学与技术\" value=\"selectAllTeacherProjectForComputer\"></el-option>\r\n\t\t\t\t\t<el-option label=\"软件工程\" value=\"selectAllTeacherProjectForSoft\"></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t\t&emsp;\r\n\t\t\t\t<el-button type=\"primary\" @click=\"searchTeacherProject()\">\r\n\t\t\t\t\t<i class=\"iconfont iconxingtaiduICON_sousuo---copy\"></i>\r\n\t\t\t\t\t搜索\r\n\t\t\t\t</el-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\r\n\t\t<!-- 下半部分 -->\r\n\t\t<div style=\"height: 570px;\">\r\n\t\t\t<div style=\"padding: 12px;\">\r\n\t\t\t\t<el-table :data=\"tableData.slice((currentPage-1)*10,currentPage*10)\" style=\"width: 100%\" height=\"520px\"\r\n\t\t\t\t\tref=\"evtTable\" v-loading=\"loading\">\r\n\t\t\t\t\t<el-table-column label=\"#\" :index=\"indexMethod\" type=\"index\" align=\"center\"></el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"project_id\" label=\"项目编号\" align=\"center\" />\r\n\t\t\t\t\t<el-table-column prop=\"project_name\" label=\"项目名称\" align=\"center\" />\r\n\t\t\t\t\t<el-table-column label=\"操作\" width=\"300\" align=\"center\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"clickRowHandle(scope.$index, scope.row)\">\r\n\t\t\t\t\t\t\t\t<i class=\"iconfont iconxiangqing\"></i>\r\n\t\t\t\t\t\t\t\t查看详情\r\n\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t<el-button type=\"warning\" size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">\r\n\t\t\t\t\t\t\t\t<i class=\"iconfont iconbianji\"></i>\r\n\t\t\t\t\t\t\t\t编辑\r\n\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t<el-button type=\"danger\" size=\"mini\" @click=\"handleDelete(scope.$index, scope.row)\">\r\n\t\t\t\t\t\t\t\t<i class=\"iconfont iconshanchu\"></i>\r\n\t\t\t\t\t\t\t\t删除\r\n\t\t\t\t\t\t\t</el-button>\r\n\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<!-- 展开行 -->\r\n\t\t\t\t\t<el-table-column type=\"expand\" width=\"1\">\r\n\t\t\t\t\t\t<template slot-scope=\"props\">\r\n\t\t\t\t\t\t\t&emsp;&emsp;{{props.row.project_content}}\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\r\n\t\t\t\t<el-pagination @current-change=\"handleCurrentChange\" :current-page.sync=\"currentPage\" :page-size=\"10\"\r\n\t\t\t\t\tlayout=\"total, prev, pager, next\" :total='tableData.length' id=\"paging\">\r\n\t\t\t\t</el-pagination>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\r\n\t\t<!-- 选题嵌套表单 -->\r\n\t\t<el-dialog title=\"编辑\" :visible.sync=\"dialogFormVisible\" style=\"width: 1300px;margin-left: 10%;margin-top: 5%;\">\r\n\t\t\t<el-form :model=\"form\">\r\n\t\t\t\t<el-form-item label=\"项目名\">\r\n\t\t\t\t\t&emsp;\r\n\t\t\t\t\t<el-input v-model=\"form.project_newName\" style=\"width: 500px;\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"项目描述\">\r\n\t\t\t\t\t<el-input v-model=\"form.project_content\" type=\"textarea\" placeholder=\"项目描述\" style=\"width: 500px;\"\r\n\t\t\t\t\t\trows=\"5\">\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"cancelEdit()\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"confirmEdit()\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios';\r\n\timport {\r\n\t\tMessage\r\n\t} from 'element-ui';\r\n\texport default {\r\n\t\tname: \"MyProject\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tprofessional: '',\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\tform: {\r\n\t\t\t\t\tvolunteer: '',\r\n\t\t\t\t\tproject_name: '',\r\n\t\t\t\t\tproject_newName: '',\r\n\t\t\t\t\tproject_content: ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcancelEdit() {\r\n\t\t\t\tthis.dialogFormVisible = false\r\n\t\t\t\tMessage.error(\"取消编辑\")\r\n\t\t\t},\r\n\t\t\tconfirmEdit() {\r\n\r\n\t\t\t\tthis.dialogFormVisible = false\r\n\r\n\r\n\t\t\t\tthis.$confirm('此操作将修改被选信息, 是否继续?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\r\n\t\t\t\t\tlet that = this\r\n\t\t\t\t\taxios.put(\"http://localhost:8080/api/teacherProjects/updateProjectNameAndContent\", {\r\n\t\t\t\t\t\t\tproject_name: this.form.project_name,\r\n\t\t\t\t\t\t\tproject_newName: this.form.project_newName,\r\n\t\t\t\t\t\t\tproject_content: this.form.project_content,\r\n\t\t\t\t\t\t\tprofessional: this.professional\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(function(response) {\r\n\r\n\t\t\t\t\t\t\tthat.dialogFormVisible = false\r\n\r\n\t\t\t\t\t\t\tthat.$message({\r\n\t\t\t\t\t\t\t\tmessage: '编辑成功',\r\n\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\tduration: '1000',\r\n\t\t\t\t\t\t\t\tcenter: true\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.loading = true\r\n\t\t\t\t\t\t\tthat.timer = setTimeout(() => { //设置延迟执行\r\n\t\t\t\t\t\t\t\tthat.loading = false\r\n\t\t\t\t\t\t\t\tthat.searchTeacherProject()\r\n\t\t\t\t\t\t\t}, 1000);\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\r\n\t\t\t\t\t\t\tthat.dialogFormVisible = false\r\n\r\n\t\t\t\t\t\t\tMessage.error(error.response.data)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmessage: '已取消'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\tclickRowHandle(index, row) {\r\n\t\t\t\tthis.$refs.evtTable.toggleRowExpansion(row);\r\n\t\t\t},\r\n\t\t\thandleEdit(index, row) {\r\n\r\n\t\t\t\t// console.log(row)\r\n\t\t\t\tthis.dialogFormVisible = true\r\n\t\t\t\tthis.form.project_name = row.project_name\r\n\t\t\t\tthis.form.project_newName = row.project_name\r\n\t\t\t\tthis.form.project_content = row.project_content\r\n\r\n\t\t\t},\r\n\t\t\thandleDelete(index, row) {\r\n\t\t\t\t// console.log(row)\r\n\t\t\t\tthis.$confirm('此操作将删除被选学生, 是否继续?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\r\n\t\t\t\t\tlet that = this\r\n\r\n\t\t\t\t\taxios.post(\"http://localhost:8080/api/teacherProjects/deleteProject\", {\r\n\t\t\t\t\t\t\tproject_id: row.project_id,\r\n\t\t\t\t\t\t\tproject_name: row.project_name,\r\n\t\t\t\t\t\t\tprofessional: row.professional\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(function(response) {\r\n\r\n\t\t\t\t\t\t\tthat.$message({\r\n\t\t\t\t\t\t\t\tmessage: '删除成功',\r\n\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\tduration: '1000',\r\n\t\t\t\t\t\t\t\tcenter: true\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.loading = true\r\n\t\t\t\t\t\t\tthat.timer = setTimeout(() => { //设置延迟执行\r\n\t\t\t\t\t\t\t\tthat.loading = false\r\n\t\t\t\t\t\t\t\tthat.searchTeacherProject()\r\n\t\t\t\t\t\t\t}, 1000);\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\r\n\t\t\t\t\t\t\tMessage.error(error.response.data)\r\n\t\t\t\t\t\t})\r\n\r\n\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmessage: '已取消'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\r\n\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\tthis.currentPage = val;\r\n\t\t\t},\r\n\t\t\tindexMethod(index) {\r\n\t\t\t\treturn (this.currentPage - 1) * 10 + index + 1\r\n\t\t\t},\r\n\t\t\tsearchTeacherProject() {\r\n\t\t\t\tlet that = this\r\n\r\n\t\t\t\taxios.get(\"http://localhost:8080/api/teacherProjects/\" + this.professional, {\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tteacherName: JSON.parse(that.$store.state.token).name\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tthat.tableData = response.data\r\n\t\t\t\t\t\tMessage.success(\"查询成功\")\r\n\t\t\t\t\t\tdocument.getElementById('paging').style.display = 'block'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t// console.log(error)\r\n\t\t\t\t\t\tMessage.error(\"请检查网络\")\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#paging {\r\n\t\tdisplay: none;\r\n\t\tfloat: right;\r\n\t}\r\n</style>\n"]}]}