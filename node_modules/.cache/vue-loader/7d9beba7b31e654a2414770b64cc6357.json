{"remainingRequest":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\src\\views\\leader\\manager\\registerUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\src\\views\\leader\\manager\\registerUser.vue","mtime":1621394007814},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616485460902},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\babel-loader\\lib\\index.js","mtime":1616485540067},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616485460902},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\vue-loader\\lib\\index.js","mtime":1616485526728}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios';\nimport {\n\tMessage\n} from 'element-ui';\nexport default {\n\tname: \"RegisterUser\",\n\tdata() {\n\t\tvar checkStudentName = (rule, value, callback) => {\n\n\t\t\tif (value === '') {\n\t\t\t\tthis.registerStudentUser.student_id = ''\n\t\t\t\tcallback(new Error('姓名不能为空'))\n\t\t\t} else {\n\t\t\t\tvar time = new Date();\n\t\t\t\tvar t = this.randomNum(3, 5)\n\t\t\t\tvar s = time.getTime().toString()\n\t\t\t\tthis.registerStudentUser.student_id = s.substring(t, s.length - 1)\n\t\t\t\tcallback()\n\t\t\t}\n\t\t}\n\t\tvar checkTeacherName = (rule, value, callback) => {\n\t\t\tif (value === '') {\n\t\t\t\tcallback(new Error('姓名不能为空'))\n\t\t\t} else {\n\t\t\t\tvar time = new Date();\n\t\t\t\tvar t = this.randomNum(3, 5)\n\t\t\t\tvar s = time.getTime().toString()\n\t\t\t\tthis.registerTeacherUser.teacher_id = s.substring(t, s.length - 1)\n\t\t\t\tcallback()\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tregisterStudentUser: {\n\t\t\t\tstudent_id: '',\n\t\t\t\tname: '',\n\t\t\t\tdepartment: '电气信息学院',\n\t\t\t\tprofessional: ''\n\t\t\t},\n\t\t\tregisterTeacherUser: {\n\t\t\t\tteacher_id: '',\n\t\t\t\tname: ''\n\t\t\t},\n\t\t\trulesOne: {\n\t\t\t\tname: [{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tvalidator: checkStudentName,\n\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t}],\n\t\t\t\tprofessional: [{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: '请选择学生专业',\n\t\t\t\t\ttrigger: 'change'\n\t\t\t\t}]\n\t\t\t},\n\t\t\trulesTwo: {\n\t\t\t\tname: [{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tvalidator: checkTeacherName,\n\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t}],\n\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\trandomNum(minNum, maxNum) {\n\t\t\tswitch (arguments.length) {\n\t\t\t\tcase 1:\n\t\t\t\t\treturn parseInt(Math.random() * minNum + 1, 10);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\treturn parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn 0;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tonSubmitStudent(registerStudentUser) {\n\t\t\t// 为表单绑定验证功能\n\t\t\tthis.$refs[registerStudentUser].validate((valid) => {\n\t\t\t\tif (valid) {\n\n\t\t\t\t\tthis.$confirm('确认注册该学生用户？', '提示', {\n\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\t// console.log(\"你好\")\n\t\t\t\t\t\t// 开始获取个人信息\n\t\t\t\t\t\tlet that = this\n\t\t\t\t\t\taxios.post(\"http://localhost:8080/api/studentInfos/insertStudentInfo\", {\n\t\t\t\t\t\t\tstudent_id: this.registerStudentUser.student_id,\n\t\t\t\t\t\t\tname: this.registerStudentUser.name,\n\t\t\t\t\t\t\tprofessional: this.registerStudentUser.professional\n\t\t\t\t\t\t}).then(function(response) {\n\n\t\t\t\t\t\t\tMessage.success(response.data)\n\n\t\t\t\t\t\t}).catch(function(error) {\n\t\t\t\t\t\t\tMessage.error(error.response.data)\n\t\t\t\t\t\t})\n\n\t\t\t\t\t}).catch(() => {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\tmessage: '已取消修改'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\n\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tonSubmitTeacher(registerTeacherUser) {\n\t\t\t// 为表单绑定验证功能\n\t\t\tthis.$refs[registerTeacherUser].validate((valid) => {\n\t\t\t\tif (valid) {\n\t\t\t\t\tthis.$confirm('确认注册该教师用户？', '提示', {\n\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\t// console.log(\"你好\")\n\t\t\t\t\t\t// 开始获取个人信息\n\t\t\t\t\t\tlet that = this\n\t\t\t\t\t\taxios.post(\"http://localhost:8080/api/teacherInfos/insertTeacherInfo\", {\n\t\t\t\t\t\t\tteacher_id: this.registerTeacherUser.teacher_id,\n\t\t\t\t\t\t\tname: this.registerTeacherUser.name\n\t\t\t\t\t\t}).then(function(response) {\n\t\t\t\t\t\n\t\t\t\t\t\t\tMessage.success(response.data)\n\t\t\t\t\n\t\t\t\t\t\t}).catch(function(error) {\n\t\t\t\t\t\t\tMessage.error(error.response.data)\n\t\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t}).catch(() => {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\tmessage: '已取消修改'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n",{"version":3,"sources":["registerUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"registerUser.vue","sourceRoot":"src/views/leader/manager","sourcesContent":["<template>\r\n\t<div style=\"margin-top: 100px;\">\r\n\t\t<div style=\"float: left;margin-left: 200px;\">\r\n\t\t\t<el-form label-width=\"80px\" :model=\"registerStudentUser\" ref=\"registerStudentUser\" :rules=\"rulesOne\">\r\n\t\t\t\t<el-form-item label=\"学号\" prop=\"student_id\">\r\n\t\t\t\t\t<el-input v-model=\"registerStudentUser.student_id\" :disabled=\"true\" prefix-icon=\"el-icon-user\"\r\n\t\t\t\t\t\tstyle=\"width: 200px;\">\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"姓名\" prop=\"name\">\r\n\t\t\t\t\t<el-input v-model=\"registerStudentUser.name\" style=\"width: 200px;\">\r\n\t\t\t\t\t\t<i slot=\"prefix\" class=\"iconfont iconziwopingjia\" style=\"margin-left: 4px;\"></i>\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"院系\" prop=\"type\">\r\n\t\t\t\t\t<el-input v-model=\"registerStudentUser.department\" :disabled=\"true\" prefix-icon=\"el-icon-user\"\r\n\t\t\t\t\t\tstyle=\"width: 200px;\">\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"专业\" prop=\"professional\">\r\n\t\t\t\t\t<el-select placeholder=\"专业\" style=\"width: 200px;\" v-model=\"registerStudentUser.professional\">\r\n\t\t\t\t\t\t<i slot=\"prefix\" class=\"iconfont iconzhuanye\" style=\"margin-left: 4px;\"></i>\r\n\t\t\t\t\t\t<el-option label=\"计算机科学与技术\" value=\"计科\"></el-option>\r\n\t\t\t\t\t\t<el-option label=\"软件工程\" value=\"软工\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item style=\"\">\r\n\t\t\t\t\t<el-button type=\"primary\" round style=\"width: 150px;\"\r\n\t\t\t\t\t\t@click=\"onSubmitStudent('registerStudentUser')\" :plain=\"true\">\r\n\t\t\t\t\t\t确认注册该学生\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</div>\r\n\r\n\t\t<div style=\"float: right;margin-right: 400px;\">\r\n\t\t\t<el-form label-width=\"80px\" :model=\"registerTeacherUser\" ref=\"registerTeacherUser\" :rules=\"rulesTwo\">\r\n\t\t\t\t<el-form-item label=\"工号\" prop=\"teacher_id\">\r\n\t\t\t\t\t<el-input v-model=\"registerTeacherUser.teacher_id\" :disabled=\"true\" prefix-icon=\"el-icon-user\"\r\n\t\t\t\t\t\tstyle=\"width: 200px;\">\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"姓名\" prop=\"name\">\r\n\t\t\t\t\t<el-input v-model=\"registerTeacherUser.name\" style=\"width: 200px;\">\r\n\t\t\t\t\t\t<i slot=\"prefix\" class=\"iconfont iconziwopingjia\" style=\"margin-left: 4px;\"></i>\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item style=\"\">\r\n\t\t\t\t\t<el-button type=\"primary\" round style=\"width: 150px;\"\r\n\t\t\t\t\t\t@click=\"onSubmitTeacher('registerTeacherUser')\" :plain=\"true\">\r\n\t\t\t\t\t\t确认注册该教师\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</div>\r\n\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios';\r\n\timport {\r\n\t\tMessage\r\n\t} from 'element-ui';\r\n\texport default {\r\n\t\tname: \"RegisterUser\",\r\n\t\tdata() {\r\n\t\t\tvar checkStudentName = (rule, value, callback) => {\r\n\r\n\t\t\t\tif (value === '') {\r\n\t\t\t\t\tthis.registerStudentUser.student_id = ''\r\n\t\t\t\t\tcallback(new Error('姓名不能为空'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar time = new Date();\r\n\t\t\t\t\tvar t = this.randomNum(3, 5)\r\n\t\t\t\t\tvar s = time.getTime().toString()\r\n\t\t\t\t\tthis.registerStudentUser.student_id = s.substring(t, s.length - 1)\r\n\t\t\t\t\tcallback()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar checkTeacherName = (rule, value, callback) => {\r\n\t\t\t\tif (value === '') {\r\n\t\t\t\t\tcallback(new Error('姓名不能为空'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar time = new Date();\r\n\t\t\t\t\tvar t = this.randomNum(3, 5)\r\n\t\t\t\t\tvar s = time.getTime().toString()\r\n\t\t\t\t\tthis.registerTeacherUser.teacher_id = s.substring(t, s.length - 1)\r\n\t\t\t\t\tcallback()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tregisterStudentUser: {\r\n\t\t\t\t\tstudent_id: '',\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tdepartment: '电气信息学院',\r\n\t\t\t\t\tprofessional: ''\r\n\t\t\t\t},\r\n\t\t\t\tregisterTeacherUser: {\r\n\t\t\t\t\tteacher_id: '',\r\n\t\t\t\t\tname: ''\r\n\t\t\t\t},\r\n\t\t\t\trulesOne: {\r\n\t\t\t\t\tname: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tvalidator: checkStudentName,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tprofessional: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请选择学生专业',\r\n\t\t\t\t\t\ttrigger: 'change'\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\trulesTwo: {\r\n\t\t\t\t\tname: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tvalidator: checkTeacherName,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\trandomNum(minNum, maxNum) {\r\n\t\t\t\tswitch (arguments.length) {\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\treturn parseInt(Math.random() * minNum + 1, 10);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\treturn parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonSubmitStudent(registerStudentUser) {\r\n\t\t\t\t// 为表单绑定验证功能\r\n\t\t\t\tthis.$refs[registerStudentUser].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\r\n\t\t\t\t\t\tthis.$confirm('确认注册该学生用户？', '提示', {\r\n\t\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\t\t// console.log(\"你好\")\r\n\t\t\t\t\t\t\t// 开始获取个人信息\r\n\t\t\t\t\t\t\tlet that = this\r\n\t\t\t\t\t\t\taxios.post(\"http://localhost:8080/api/studentInfos/insertStudentInfo\", {\r\n\t\t\t\t\t\t\t\tstudent_id: this.registerStudentUser.student_id,\r\n\t\t\t\t\t\t\t\tname: this.registerStudentUser.name,\r\n\t\t\t\t\t\t\t\tprofessional: this.registerStudentUser.professional\r\n\t\t\t\t\t\t\t}).then(function(response) {\r\n\r\n\t\t\t\t\t\t\t\tMessage.success(response.data)\r\n\r\n\t\t\t\t\t\t\t}).catch(function(error) {\r\n\t\t\t\t\t\t\t\tMessage.error(error.response.data)\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\t\tmessage: '已取消修改'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonSubmitTeacher(registerTeacherUser) {\r\n\t\t\t\t// 为表单绑定验证功能\r\n\t\t\t\tthis.$refs[registerTeacherUser].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tthis.$confirm('确认注册该教师用户？', '提示', {\r\n\t\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\t\t// console.log(\"你好\")\r\n\t\t\t\t\t\t\t// 开始获取个人信息\r\n\t\t\t\t\t\t\tlet that = this\r\n\t\t\t\t\t\t\taxios.post(\"http://localhost:8080/api/teacherInfos/insertTeacherInfo\", {\r\n\t\t\t\t\t\t\t\tteacher_id: this.registerTeacherUser.teacher_id,\r\n\t\t\t\t\t\t\t\tname: this.registerTeacherUser.name\r\n\t\t\t\t\t\t\t}).then(function(response) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tMessage.success(response.data)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t}).catch(function(error) {\r\n\t\t\t\t\t\t\t\tMessage.error(error.response.data)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\t\tmessage: '已取消修改'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n"]}]}