{"remainingRequest":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\src\\router\\index.js","mtime":1619331930141},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616485460902},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\babel-loader\\lib\\index.js","mtime":1616485540067}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Router from 'vue-router';\nimport store from \"../store/store.js\";\nimport StudentMain from \"../views/student/studentMain.vue\";\nimport Home from \"../views/student/index/home.vue\";\nimport ChoiceTypeOne from \"../views/student/choice/choiceTypeOne.vue\";\nimport ChoiceTypeTwo from \"../views/student/choice/choiceTypeTwo.vue\";\nimport AlterMessage from \"../views/student/alter/alterMessage.vue\";\nimport AlterPassword from \"../views/student/alter/alterPassword.vue\";\nimport AlterVolunteer from \"../views/student/alter/alterVolunteer.vue\";\nimport TeacherMain from \"../views/teacher/teacherMain.vue\";\nimport HomeTeacher from \"../views/teacher/index/home.vue\";\nimport AlterMessageTeacher from \"../views/teacher/alter/alterMessage.vue\";\nimport AlterPasswordTeacher from \"../views/teacher/alter/alterPassword.vue\";\nimport AddProjectType from \"../views/teacher/add/addProjectType.vue\";\nimport AddProject from \"../views/teacher/add/addProject.vue\";\nimport MyProject from \"../views/teacher/add/myProject.vue\";\nimport ChoiceStudent from \"../views/teacher/choice/choiceStudent.vue\";\nimport LeaderMain from \"../views/leader/leaderMain.vue\";\nimport HomeLeader from \"../views/leader/index/home.vue\";\nimport AlterMessageLeader from \"../views/leader/alter/alterMessage.vue\";\nimport AlterPasswordLeader from \"../views/leader/alter/alterPassword.vue\";\nimport RegisterUser from \"../views/leader/manager/registerUser.vue\";\nimport MessageStu from \"../views/leader/manager/messageStu.vue\";\nimport MessageTea from \"../views/leader/manager/messageTea.vue\";\nimport Outline from \"../views/leader/conclusion/outline.vue\";\nimport Login from \"../views/login/login.vue\";\nVue.use(Router); // 解决ElementUI导航栏中的vue-router在3.0版本以上重复点菜单报错问题\n\nvar originalReplace = VueRouter.prototype.replace;\n\nRouter.prototype.replace = function replace(location) {\n  return originalReplace.call(this, location).catch(function (err) {\n    return err;\n  });\n};\n\nvar router = new VueRouter({\n  mode: 'history',\n  routes: [{\n    // 这个表示的是根目录，即一进入的页面\n    path: '/',\n    // 设置页面一进来就显示的页面，即重定向到goods组件，这里写的内容是对应组将的component的值\n    redirect: 'login'\n  }, {\n    // 登录页\n    path: '/login',\n    name: 'Login',\n    component: Login\n  }, {\n    // 学生首页\n    path: '/student',\n    name: 'StudentMain',\n    meta: {\n      requireAuth: true\n    },\n    component: StudentMain,\n    redirect: Home,\n    children: [{\n      path: '/student/home',\n      name: 'Home',\n      meta: {\n        chineseName: '首页'\n      },\n      component: Home\n    }, {\n      path: '/student/choiceTypeOne',\n      name: 'choiceTypeOne',\n      meta: {\n        chineseName: '毕业选题',\n        chineseName1: '按老师选题'\n      },\n      component: ChoiceTypeOne\n    }, {\n      path: '/student/choiceTypeTwo',\n      name: 'choiceTypeTwo',\n      meta: {\n        chineseName: '毕业选题',\n        chineseName1: '按题型选题'\n      },\n      component: ChoiceTypeTwo\n    }, {\n      path: '/student/alterMessage',\n      name: 'alterMessage',\n      meta: {\n        chineseName: '个人中心',\n        chineseName1: '修改个人信息'\n      },\n      component: AlterMessage\n    }, {\n      path: '/student/alterPassword',\n      name: 'alterPassword',\n      meta: {\n        chineseName: '个人中心',\n        chineseName1: '修改密码'\n      },\n      component: AlterPassword\n    }, {\n      path: '/student/alterVolunteer',\n      name: 'alterVolunteer',\n      meta: {\n        chineseName: '个人中心',\n        chineseName1: '查看志愿'\n      },\n      component: AlterVolunteer\n    }]\n  }, {\n    // 老师首页\n    path: '/teacher',\n    name: 'TeacherMain',\n    meta: {\n      requireAuth: true\n    },\n    component: TeacherMain,\n    redirect: HomeTeacher,\n    children: [{\n      path: '/teacher/home',\n      name: 'HomeTeacher',\n      meta: {\n        chineseName: '首页'\n      },\n      component: HomeTeacher\n    }, {\n      path: '/teacher/addProjectType',\n      name: 'AddProjectType',\n      meta: {\n        chineseName: '项目管理',\n        chineseName1: '添加项目类型'\n      },\n      component: AddProjectType\n    }, {\n      path: '/teacher/myProject',\n      name: 'MyProject',\n      meta: {\n        chineseName: '项目管理',\n        chineseName1: '我的项目'\n      },\n      component: MyProject\n    }, {\n      path: '/teacher/addProject',\n      name: 'AddProject',\n      meta: {\n        chineseName: '项目管理',\n        chineseName1: '添加项目'\n      },\n      component: AddProject\n    }, {\n      path: '/teacher/choiceStudent',\n      name: 'ChoiceStudent',\n      meta: {\n        chineseName: '项目管理',\n        chineseName1: '选择学生'\n      },\n      component: ChoiceStudent\n    }, {\n      path: '/teacher/alterMessage',\n      name: 'AlterMessageTeacher',\n      meta: {\n        chineseName: '个人中心',\n        chineseName1: '修改个人信息'\n      },\n      component: AlterMessageTeacher\n    }, {\n      path: '/teacher/alterPassword',\n      name: 'AlterPasswordTeacher',\n      meta: {\n        chineseName: '个人中心',\n        chineseName1: '修改密码'\n      },\n      component: AlterPasswordTeacher\n    }]\n  }, {\n    // 主任首页\n    path: '/leader',\n    name: 'LeaderMain',\n    meta: {\n      requireAuth: true\n    },\n    component: LeaderMain,\n    redirect: HomeLeader,\n    children: [{\n      path: '/leader/home',\n      name: 'HomeLeader',\n      meta: {\n        chineseName: '首页'\n      },\n      component: HomeLeader\n    }, {\n      path: '/leader/alterMessage',\n      name: 'AlterMessageLeader',\n      meta: {\n        chineseName: '个人中心',\n        chineseName1: '修改个人信息'\n      },\n      component: AlterMessageLeader\n    }, {\n      path: '/leader/alterPassword',\n      name: 'AlterPasswordLeader',\n      meta: {\n        chineseName: '个人中心',\n        chineseName1: '修改密码'\n      },\n      component: AlterPasswordLeader\n    }, {\n      path: '/leader/registerUser',\n      name: 'RegisterUser',\n      meta: {\n        chineseName: '人员管理',\n        chineseName1: '注册用户'\n      },\n      component: RegisterUser\n    }, {\n      path: '/leader/messageStu',\n      name: 'MessageStu',\n      meta: {\n        chineseName: '人员管理',\n        chineseName1: '学生信息'\n      },\n      component: MessageStu\n    }, {\n      path: '/leader/messageTea',\n      name: 'MessageTea',\n      meta: {\n        chineseName: '人员管理',\n        chineseName1: '教师信息'\n      },\n      component: MessageTea\n    }, {\n      path: '/leader/outline',\n      name: 'Outline',\n      meta: {\n        chineseName: '总结',\n        chineseName1: '大纲'\n      },\n      component: Outline\n    }]\n  }]\n});\nexport default router;\nrouter.beforeEach(function (to, from, next) {\n  if (to.path === '/login' && store.state.loginUser !== \"\") {\n    var uri = store.state.loginUser.substr(1, store.state.loginUser.length - 2);\n    next({\n      path: uri\n    });\n  } // console.log(to.path)\n  // 遍历当前访问的url。里面的数据，是否为：true。\n  // 是否需要登录\n\n\n  if (to.matched.some(function (record) {\n    return record.meta.requireAuth;\n  })) {\n    // this route requires auth, check if logged in\n    // if not, redirect to login page.\n    // 这里面就开始判断，是否有过登录。如果没有登录，那么就重定向到login。反之正常进入\n    if (to.matched[0].meta.requireAuth == true) {\n      // 如果为true 说明都是必须要进行登陆的\n      var uri = store.state.loginUser.substr(1, store.state.loginUser.length - 2); // 如果用户尝试跨域访问其他用户界面，自动返回到已有的登陆界面\n\n      if (to.fullPath.indexOf(uri) == -1) {\n        next({\n          path: uri\n        });\n      }\n\n      if (window.localStorage.token) {\n        next();\n      } else if (to.path !== '/login') {\n        var token = window.localStorage.token;\n\n        if (token === 'null' || token === '' || token === undefined) {\n          next({\n            path: '/login'\n          });\n        }\n      } else {\n        next();\n      }\n    }\n  } else {\n    next(); // 确保一定要调用 next()\n  }\n});",{"version":3,"sources":["C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\src\\router\\index.js"],"names":["Vue","VueRouter","Router","store","StudentMain","Home","ChoiceTypeOne","ChoiceTypeTwo","AlterMessage","AlterPassword","AlterVolunteer","TeacherMain","HomeTeacher","AlterMessageTeacher","AlterPasswordTeacher","AddProjectType","AddProject","MyProject","ChoiceStudent","LeaderMain","HomeLeader","AlterMessageLeader","AlterPasswordLeader","RegisterUser","MessageStu","MessageTea","Outline","Login","use","originalReplace","prototype","replace","location","call","catch","err","router","mode","routes","path","redirect","name","component","meta","requireAuth","children","chineseName","chineseName1","beforeEach","to","from","next","state","loginUser","uri","substr","length","matched","some","record","fullPath","indexOf","window","localStorage","token","undefined"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\n\r\nimport VueRouter from 'vue-router'\r\nimport Router from 'vue-router'\r\nimport store from '../store/store.js'\r\nimport StudentMain from '../views/student/studentMain.vue'\r\nimport Home from '../views/student/index/home.vue'\r\nimport ChoiceTypeOne from '../views/student/choice/choiceTypeOne.vue'\r\nimport ChoiceTypeTwo from '../views/student/choice/choiceTypeTwo.vue'\r\nimport AlterMessage from '../views/student/alter/alterMessage.vue'\r\nimport AlterPassword from '../views/student/alter/alterPassword.vue'\r\nimport AlterVolunteer from '../views/student/alter/alterVolunteer.vue'\r\n\r\n\r\nimport TeacherMain from '../views/teacher/teacherMain.vue'\r\nimport HomeTeacher from '../views/teacher/index/home.vue'\r\nimport AlterMessageTeacher from '../views/teacher/alter/alterMessage.vue'\r\nimport AlterPasswordTeacher from '../views/teacher/alter/alterPassword.vue'\r\nimport AddProjectType from '../views/teacher/add/addProjectType.vue'\r\nimport AddProject from '../views/teacher/add/addProject.vue'\r\nimport MyProject from '../views/teacher/add/myProject.vue'\r\nimport ChoiceStudent from '../views/teacher/choice/choiceStudent.vue'\r\n\r\n\r\n\r\n\r\nimport LeaderMain from '../views/leader/leaderMain.vue'\r\nimport HomeLeader from '../views/leader/index/home.vue'\r\nimport AlterMessageLeader from '../views/leader/alter/alterMessage.vue'\r\nimport AlterPasswordLeader from '../views/leader/alter/alterPassword.vue'\r\nimport RegisterUser from '../views/leader/manager/registerUser.vue'\r\nimport MessageStu from '../views/leader/manager/messageStu.vue'\r\nimport MessageTea from '../views/leader/manager/messageTea.vue'\r\nimport Outline from '../views/leader/conclusion/outline.vue'\r\n\r\nimport Login from '../views/login/login.vue'\r\n\r\n\r\nVue.use(Router);\r\n\r\n\r\n\r\n// 解决ElementUI导航栏中的vue-router在3.0版本以上重复点菜单报错问题\r\nconst originalReplace = VueRouter.prototype.replace;\r\nRouter.prototype.replace = function replace(location) {\r\n\treturn originalReplace.call(this, location).catch(err => err);\r\n};\r\n\r\nconst router = new VueRouter({\r\n\tmode: 'history',\r\n\troutes: [{\r\n\t\t// 这个表示的是根目录，即一进入的页面\r\n\t\tpath: '/',\r\n\t\t// 设置页面一进来就显示的页面，即重定向到goods组件，这里写的内容是对应组将的component的值\r\n\t\tredirect: 'login'\r\n\t}, {\r\n\t\t// 登录页\r\n\t\tpath: '/login',\r\n\t\tname: 'Login',\r\n\t\tcomponent: Login\r\n\t}, {\r\n\t\t// 学生首页\r\n\t\tpath: '/student',\r\n\t\tname: 'StudentMain',\r\n\t\tmeta: {\r\n\t\t\trequireAuth: true\r\n\t\t},\r\n\t\tcomponent: StudentMain,\r\n\t\tredirect: Home,\r\n\t\tchildren: [{\r\n\t\t\tpath: '/student/home',\r\n\t\t\tname: 'Home',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '首页'\r\n\t\t\t},\r\n\t\t\tcomponent: Home\r\n\t\t}, {\r\n\t\t\tpath: '/student/choiceTypeOne',\r\n\t\t\tname: 'choiceTypeOne',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '毕业选题',\r\n\t\t\t\tchineseName1: '按老师选题'\r\n\t\t\t},\r\n\t\t\tcomponent: ChoiceTypeOne\r\n\t\t}, {\r\n\t\t\tpath: '/student/choiceTypeTwo',\r\n\t\t\tname: 'choiceTypeTwo',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '毕业选题',\r\n\t\t\t\tchineseName1: '按题型选题'\r\n\t\t\t},\r\n\t\t\tcomponent: ChoiceTypeTwo\r\n\t\t}, {\r\n\t\t\tpath: '/student/alterMessage',\r\n\t\t\tname: 'alterMessage',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '个人中心',\r\n\t\t\t\tchineseName1: '修改个人信息'\r\n\t\t\t},\r\n\t\t\tcomponent: AlterMessage\r\n\t\t}, {\r\n\t\t\tpath: '/student/alterPassword',\r\n\t\t\tname: 'alterPassword',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '个人中心',\r\n\t\t\t\tchineseName1: '修改密码'\r\n\t\t\t},\r\n\t\t\tcomponent: AlterPassword\r\n\t\t},{\r\n\t\t\tpath: '/student/alterVolunteer',\r\n\t\t\tname: 'alterVolunteer',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '个人中心',\r\n\t\t\t\tchineseName1: '查看志愿'\r\n\t\t\t},\r\n\t\t\tcomponent: AlterVolunteer\r\n\t\t}]\r\n\t}, {\r\n\t\t// 老师首页\r\n\t\tpath: '/teacher',\r\n\t\tname: 'TeacherMain',\r\n\t\tmeta: {\r\n\t\t\trequireAuth: true\r\n\t\t},\r\n\t\tcomponent: TeacherMain,\r\n\t\tredirect: HomeTeacher,\r\n\t\tchildren: [{\r\n\t\t\tpath: '/teacher/home',\r\n\t\t\tname: 'HomeTeacher',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '首页'\r\n\t\t\t},\r\n\t\t\tcomponent: HomeTeacher\r\n\t\t},{\r\n\t\t\tpath: '/teacher/addProjectType',\r\n\t\t\tname: 'AddProjectType',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '项目管理',\r\n\t\t\t\tchineseName1: '添加项目类型'\r\n\t\t\t},\r\n\t\t\tcomponent: AddProjectType\r\n\t\t},{\r\n\t\t\tpath: '/teacher/myProject',\r\n\t\t\tname: 'MyProject',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '项目管理',\r\n\t\t\t\tchineseName1: '我的项目'\r\n\t\t\t},\r\n\t\t\tcomponent: MyProject\r\n\t\t},{\r\n\t\t\tpath: '/teacher/addProject',\r\n\t\t\tname: 'AddProject',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '项目管理',\r\n\t\t\t\tchineseName1: '添加项目'\r\n\t\t\t},\r\n\t\t\tcomponent: AddProject\r\n\t\t},{\r\n\t\t\tpath: '/teacher/choiceStudent',\r\n\t\t\tname: 'ChoiceStudent',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '项目管理',\r\n\t\t\t\tchineseName1: '选择学生'\r\n\t\t\t},\r\n\t\t\tcomponent: ChoiceStudent\r\n\t\t},{\r\n\t\t\tpath: '/teacher/alterMessage',\r\n\t\t\tname: 'AlterMessageTeacher',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '个人中心',\r\n\t\t\t\tchineseName1: '修改个人信息'\r\n\t\t\t},\r\n\t\t\tcomponent: AlterMessageTeacher\r\n\t\t},{\r\n\t\t\tpath: '/teacher/alterPassword',\r\n\t\t\tname: 'AlterPasswordTeacher',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '个人中心',\r\n\t\t\t\tchineseName1: '修改密码'\r\n\t\t\t},\r\n\t\t\tcomponent: AlterPasswordTeacher\r\n\t\t}]\r\n\t}, {\r\n\t\t// 主任首页\r\n\t\tpath: '/leader',\r\n\t\tname: 'LeaderMain',\r\n\t\tmeta: {\r\n\t\t\trequireAuth: true\r\n\t\t},\r\n\t\tcomponent: LeaderMain,\r\n\t\tredirect: HomeLeader,\r\n\t\tchildren: [{\r\n\t\t\tpath: '/leader/home',\r\n\t\t\tname: 'HomeLeader',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '首页'\r\n\t\t\t},\r\n\t\t\tcomponent: HomeLeader\r\n\t\t},{\r\n\t\t\tpath: '/leader/alterMessage',\r\n\t\t\tname: 'AlterMessageLeader',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '个人中心',\r\n\t\t\t\tchineseName1: '修改个人信息'\r\n\t\t\t},\r\n\t\t\tcomponent: AlterMessageLeader\r\n\t\t},{\r\n\t\t\tpath: '/leader/alterPassword',\r\n\t\t\tname: 'AlterPasswordLeader',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '个人中心',\r\n\t\t\t\tchineseName1: '修改密码'\r\n\t\t\t},\r\n\t\t\tcomponent: AlterPasswordLeader\r\n\t\t},{\r\n\t\t\tpath: '/leader/registerUser',\r\n\t\t\tname: 'RegisterUser',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '人员管理',\r\n\t\t\t\tchineseName1: '注册用户'\r\n\t\t\t},\r\n\t\t\tcomponent: RegisterUser\r\n\t\t},{\r\n\t\t\tpath: '/leader/messageStu',\r\n\t\t\tname: 'MessageStu',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '人员管理',\r\n\t\t\t\tchineseName1: '学生信息'\r\n\t\t\t},\r\n\t\t\tcomponent: MessageStu\r\n\t\t},{\r\n\t\t\tpath: '/leader/messageTea',\r\n\t\t\tname: 'MessageTea',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '人员管理',\r\n\t\t\t\tchineseName1: '教师信息'\r\n\t\t\t},\r\n\t\t\tcomponent: MessageTea\r\n\t\t},{\r\n\t\t\tpath: '/leader/outline',\r\n\t\t\tname: 'Outline',\r\n\t\t\tmeta: {\r\n\t\t\t\tchineseName: '总结',\r\n\t\t\t\tchineseName1: '大纲'\r\n\t\t\t},\r\n\t\t\tcomponent: Outline\r\n\t\t}]\r\n\t}]\r\n});\r\n\r\nexport default router;\r\n\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n\r\n\tif(to.path === '/login' && store.state.loginUser !== \"\"){\r\n\t\tvar uri = store.state.loginUser.substr(1, store.state.loginUser.length - 2)\r\n\t\tnext({\r\n\t\t\tpath: uri\r\n\t\t})\r\n\t}\r\n\t\t\r\n\t// console.log(to.path)\r\n\t// 遍历当前访问的url。里面的数据，是否为：true。\r\n\t// 是否需要登录\r\n\tif (to.matched.some(record => record.meta.requireAuth)) {\r\n\t\t// this route requires auth, check if logged in\r\n\t\t// if not, redirect to login page.\r\n\t\t// 这里面就开始判断，是否有过登录。如果没有登录，那么就重定向到login。反之正常进入\r\n\r\n\r\n\t\tif (to.matched[0].meta.requireAuth == true) {\r\n\r\n\t\t\t// 如果为true 说明都是必须要进行登陆的\r\n\t\t\tvar uri = store.state.loginUser.substr(1, store.state.loginUser.length - 2)\r\n\r\n\t\t\t// 如果用户尝试跨域访问其他用户界面，自动返回到已有的登陆界面\r\n\t\t\tif (to.fullPath.indexOf(uri) == -1) {\r\n\t\t\t\tnext({\r\n\t\t\t\t\tpath: uri\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tif (window.localStorage.token) {\r\n\t\t\t\tnext()\r\n\t\t\t} else if (to.path !== '/login') {\r\n\t\t\t\tlet token = window.localStorage.token;\r\n\t\t\t\tif (token === 'null' || token === '' || token === undefined) {\r\n\t\t\t\t\tnext({\r\n\t\t\t\t\t\tpath: '/login'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tnext()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t} else {\r\n\t\tnext() // 确保一定要调用 next()\r\n\t}\r\n})\n"]}]}