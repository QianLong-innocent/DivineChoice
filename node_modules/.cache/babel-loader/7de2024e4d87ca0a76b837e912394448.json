{"remainingRequest":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\src\\views\\student\\alter\\alterVolunteer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\src\\views\\student\\alter\\alterVolunteer.vue","mtime":1621737842505},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616485460902},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\babel-loader\\lib\\index.js","mtime":1616485540067},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616485460902},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\vue-loader\\lib\\index.js","mtime":1616485526728},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616485460902},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\babel-loader\\lib\\index.js","mtime":1616485540067},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616485460902},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\vue-loader\\lib\\index.js","mtime":1616485526728}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { Message } from 'element-ui';\nexport default {\n  name: 'AlterVolunteer',\n  data: function data() {\n    return {\n      tablesData: [],\n      loading: false\n    };\n  },\n  methods: {\n    deleteF5: function deleteF5() {\n      var that = this;\n      axios.get(\"http://localhost:8080/api/studentChoices/selectChoiceStateAndTeacherInfo\", {\n        params: {\n          id: JSON.parse(that.$store.state.token).student_id\n        }\n      }).then(function (response) {\n        that.tablesData = response.data; // console.log(response.data.length)\n\n        if (response.data.length === 0) {\n          Message.success(\"还未选题\");\n        } else {\n          if (that.tablesData.length === 1) {\n            that.tablesData[0].index = 1;\n          } // console.log(that.tablesData)\n\n\n          Message.success(\"刷新成功\");\n        }\n      }).catch(function (error) {\n        Message.error(\"请检查网络\");\n      });\n    },\n    clickRowHandle: function clickRowHandle(index, row) {\n      this.$refs.evtTable.toggleRowExpansion(row);\n    },\n    handleEdit: function handleEdit(index, row) {\n      var _this = this;\n\n      this.$confirm('此操作不可逆, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        var that = _this;\n        axios.put(\"http://localhost:8080/api/studentChoices/deleteChoiceProject\", {\n          id: JSON.parse(that.$store.state.token).student_id,\n          volunteer: row.volunteer\n        }).then(function (response) {\n          // that.deleteF5()\n          that.$message({\n            message: '退选成功',\n            type: 'success',\n            duration: '1000',\n            center: true\n          });\n          that.loading = true;\n          that.timer = setTimeout(function () {\n            //设置延迟执行\n            that.loading = false;\n            that.deleteF5();\n          }, 1000);\n        }).catch(function (error) {\n          Message.error(error.response.data);\n        });\n      }).catch(function () {\n        _this.$message({\n          type: 'error',\n          message: '已取消'\n        });\n      });\n    }\n  },\n  mounted: function mounted() {\n    var that = this;\n    axios.get(\"http://localhost:8080/api/studentChoices/selectChoiceStateAndTeacherInfo\", {\n      params: {\n        id: JSON.parse(that.$store.state.token).student_id\n      }\n    }).then(function (response) {\n      // console.log(response.data.length)\n      if (response.data.length === 0) {\n        Message.success(\"还未选题\");\n      } else {\n        that.tablesData = response.data;\n\n        if (that.tablesData.length === 1) {\n          that.tablesData[0].index = 1;\n        } // console.log(that.tablesData)\n\n\n        Message.success(\"查询成功\");\n      }\n    }).catch(function (error) {\n      Message.error(\"请检查网络\");\n    });\n  }\n};",{"version":3,"sources":["alterVolunteer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div style=\"background-color: #FFFFFF;\">\r\n\t\t<div style=\"height: 650px;\">\r\n\t\t\t<div style=\"padding: 12px;\">\r\n\t\t\t\t<el-table :data=\"tablesData\" ref=\"evtTable\" style=\"width: 100%\" height=\"520px\" stripe v-loading=\"loading\">\r\n\t\t\t\t\t<el-table-column label=\"#\" prop=\"index\" align=\"center\"></el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"project_id\" label=\"项目编号\" align=\"center\"></el-table-column>\r\n\t\t\t\t\t<el-table-column width=\"400\" prop=\"project_name\" label=\"项目名称\" align=\"center\"></el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"志愿详情\" width=\"300\" prop=\"volunteer\" align=\"center\"></el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"状态\" prop=\"state\" align=\"center\"></el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"操作\" width=\"300\" align=\"center\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"clickRowHandle(scope.$index, scope.row)\">\r\n\t\t\t\t\t\t\t\t<i class=\"iconfont iconxiangqing\"></i>\r\n\t\t\t\t\t\t\t\t查看详情\r\n\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t<el-button type=\"danger\" size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">\r\n\t\t\t\t\t\t\t\t<i class=\"iconfont iconxuanze\"></i>\r\n\t\t\t\t\t\t\t\t退选\r\n\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<!-- 展开行 -->\r\n\t\t\t\t\t<el-table-column type=\"expand\" width=\"1\">\r\n\t\t\t\t\t\t<template slot-scope=\"props\">\r\n\t\t\t\t\t\t\t<el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"老师姓名\">\r\n\t\t\t\t\t\t\t\t\t<span>{{ props.row.teacherName }}</span>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"老师手机号\">\r\n\t\t\t\t\t\t\t\t\t<span>{{ props.row.phone }}</span>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"项目内容\">\r\n\t\t\t\t\t\t\t\t\t<span>{{ props.row.project_content }}</span>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios';\r\n\timport {\r\n\t\tMessage\r\n\t} from 'element-ui';\r\n\texport default {\r\n\t\tname: 'AlterVolunteer',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttablesData: [],\r\n\t\t\t\tloading:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tdeleteF5() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\taxios.get(\"http://localhost:8080/api/studentChoices/selectChoiceStateAndTeacherInfo\", {\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tid: JSON.parse(that.$store.state.token).student_id\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tthat.tablesData = response.data\r\n\t\t\t\t\t\t// console.log(response.data.length)\r\n\t\t\t\t\t\tif (response.data.length === 0) {\r\n\t\t\t\t\t\t\tMessage.success(\"还未选题\")\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (that.tablesData.length === 1) {\r\n\t\t\t\t\t\t\t\tthat.tablesData[0].index = 1\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// console.log(that.tablesData)\r\n\t\t\t\t\t\t\tMessage.success(\"刷新成功\")\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tMessage.error(\"请检查网络\")\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclickRowHandle(index, row) {\r\n\t\t\t\tthis.$refs.evtTable.toggleRowExpansion(row);\r\n\t\t\t},\r\n\t\t\thandleEdit(index, row) {\r\n\t\t\t\tthis.$confirm('此操作不可逆, 是否继续?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\r\n\r\n\t\t\t\t\tlet that = this\r\n\t\t\t\t\taxios.put(\"http://localhost:8080/api/studentChoices/deleteChoiceProject\", {\r\n\t\t\t\t\t\t\tid: JSON.parse(that.$store.state.token).student_id,\r\n\t\t\t\t\t\t\tvolunteer: row.volunteer\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t\t// that.deleteF5()\r\n\t\t\t\t\t\t\tthat.$message({\r\n\t\t\t\t\t\t\t\tmessage: '退选成功',\r\n\t\t\t\t\t\t\t\ttype:'success',\r\n\t\t\t\t\t\t\t\tduration:'1000',\r\n\t\t\t\t\t\t\t\tcenter: true\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.loading = true\r\n\t\t\t\t\t\t\tthat.timer = setTimeout(() => { //设置延迟执行\r\n\t\t\t\t\t\t\t\tthat.loading = false\r\n\t\t\t\t\t\t\t\tthat.deleteF5()\r\n\t\t\t\t\t\t\t}, 1000);\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\tMessage.error(error.response.data)\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmessage: '已取消'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tlet that = this\r\n\t\t\taxios.get(\"http://localhost:8080/api/studentChoices/selectChoiceStateAndTeacherInfo\", {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tid: JSON.parse(that.$store.state.token).student_id\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t// console.log(response.data.length)\r\n\t\t\t\t\tif (response.data.length === 0) {\r\n\t\t\t\t\t\tMessage.success(\"还未选题\")\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.tablesData = response.data\r\n\r\n\t\t\t\t\t\tif (that.tablesData.length === 1) {\r\n\t\t\t\t\t\t\tthat.tablesData[0].index = 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// console.log(that.tablesData)\r\n\t\t\t\t\t\tMessage.success(\"查询成功\")\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tMessage.error(\"请检查网络\")\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n"],"sourceRoot":"src/views/student/alter"}]}