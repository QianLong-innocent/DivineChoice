{"remainingRequest":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\src\\views\\teacher\\add\\addProjectType.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\src\\views\\teacher\\add\\addProjectType.vue","mtime":1621733139201},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616485460902},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\babel-loader\\lib\\index.js","mtime":1616485540067},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616485460902},{"path":"C:\\Users\\xiaoxi\\Desktop\\毕业设计\\Mr.Qin\\DivineChoice\\node_modules\\vue-loader\\lib\\index.js","mtime":1616485526728}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { Message } from 'element-ui';\nexport default {\n  name: \"AddProjectType\",\n  data: function data() {\n    return {\n      loading: false,\n      tableData: [],\n      currentPage: 1,\n      dialogFormVisible: false,\n      form: {\n        project_type: ''\n      }\n    };\n  },\n  methods: {\n    handleDelete: function handleDelete(index, row) {\n      var _this = this;\n\n      this.$confirm('此操作将删除该项目类型, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        var that = _this;\n        axios.delete(\"http://localhost:8080/api/projectTypes/deleteProjectType/\" + row.id).then(function (response) {\n          // that.deleteF5()\n          that.$message({\n            message: '删除成功',\n            type: 'success',\n            duration: '1000',\n            center: true\n          });\n          that.loading = true;\n          that.timer = setTimeout(function () {\n            //设置延迟执行\n            that.loading = false;\n            that.$_update();\n          }, 1000);\n        }).catch(function (error) {\n          Message.error(error.response.data);\n        });\n      }).catch(function () {\n        _this.$message({\n          type: 'error',\n          message: '已取消'\n        });\n      });\n    },\n    cancelAdd: function cancelAdd() {\n      this.dialogFormVisible = false;\n      Message.error(\"已取消\");\n    },\n    confirmAdd: function confirmAdd() {\n      this.dialogFormVisible = false;\n      this.connectMySql();\n    },\n    connectMySql: function connectMySql() {\n      var that = this;\n      axios.post(\"http://localhost:8080/api/projectTypes/insertProjectType\", {\n        project_type: this.form.project_type\n      }).then(function (response) {\n        that.dialogFormVisible = false;\n\n        if (response.data === true) {\n          that.$message({\n            message: '添加成功',\n            type: 'success',\n            duration: '1000',\n            center: true\n          });\n          that.loading = true;\n          that.timer = setTimeout(function () {\n            //设置延迟执行\n            that.loading = false;\n            that.$_update();\n          }, 1000);\n        } else {\n          Message.warning(\"类型重复\");\n        }\n      }).catch(function (error) {\n        that.dialogFormVisible = false;\n        Message.error(error.response.data);\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentPage = val;\n    },\n    indexMethod: function indexMethod(index) {\n      return (this.currentPage - 1) * 10 + index + 1;\n    },\n    $_update: function $_update() {\n      var that = this;\n      axios.get(\"http://localhost:8080/api/projectTypes/selectAllProjectType\").then(function (response) {\n        that.tableData = response.data;\n      }).catch(function (error) {\n        Message.error(\"请检查网络\");\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.$_update();\n  }\n};",{"version":3,"sources":["addProjectType.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div style=\"background-color: #FFFFFF;\">\r\n\r\n\t\t<!-- 上半部分 -->\r\n\t\t<div style=\"height: 60px;\">\r\n\t\t\t<div style=\"padding: 12px;float: right;margin-right: 20px;\">\r\n\t\t\t\t<el-button type=\"primary\" @click=\"dialogFormVisible = true\">\r\n\t\t\t\t\t<i class=\"iconfont icon-tainjia\"></i>\r\n\t\t\t\t\t添加项目类型\r\n\t\t\t\t</el-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\r\n\t\t<!-- 下半部分 -->\r\n\t\t<div style=\"height: 570px;\">\r\n\t\t\t<div style=\"padding: 12px;\">\r\n\t\t\t\t<el-table :data=\"tableData.slice((currentPage-1)*10,currentPage*10)\" style=\"width: 100%\" \r\n\t\t\t\theight=\"520px\" v-loading=\"loading\">\r\n\t\t\t\t\t<el-table-column label=\"#\" :index=\"indexMethod\" type=\"index\" align=\"center\"></el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"id\" label=\"项目类型编号\" align=\"center\" />\r\n\t\t\t\t\t<el-table-column prop=\"project_type\" label=\"项目类型\" align=\"center\" />\r\n\t\t\t\t\t<el-table-column label=\"操作\" width=\"300\" align=\"center\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<el-button type=\"danger\" size=\"mini\" @click=\"handleDelete(scope.$index, scope.row)\">\r\n\t\t\t\t\t\t\t\t<i class=\"iconfont iconshanchu\"></i>\r\n\t\t\t\t\t\t\t\t删除\r\n\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\r\n\t\t\t\t<el-pagination @current-change=\"handleCurrentChange\" :current-page.sync=\"currentPage\" :page-size=\"10\"\r\n\t\t\t\t\tlayout=\"total, prev, pager, next\" :total='tableData.length' style=\"float: right;\">\r\n\t\t\t\t</el-pagination>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- 添加项目类型嵌套表单 -->\r\n\t\t<el-dialog title=\"添加\" :visible.sync=\"dialogFormVisible\" style=\"width: 700px;margin-left: 30%;margin-top: 5%;\">\r\n\t\t\t<el-form :model=\"form\">\r\n\t\t\t\t<el-form-item label=\"项目类型\">\r\n\t\t\t\t\t<el-input v-model=\"form.project_type\" style=\"width: 200px;\">\r\n\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"cancelAdd()\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"confirmAdd()\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios';\r\n\timport {\r\n\t\tMessage\r\n\t} from 'element-ui';\r\n\texport default {\r\n\t\tname: \"AddProjectType\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t\tdialogFormVisible: false,\r\n\r\n\t\t\t\tform: {\r\n\t\t\t\t\tproject_type: ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleDelete(index, row) {\r\n\t\t\t\tthis.$confirm('此操作将删除该项目类型, 是否继续?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet that = this\r\n\t\t\t\t\taxios.delete(\"http://localhost:8080/api/projectTypes/deleteProjectType/\"+row.id)\r\n\t\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t\t// that.deleteF5()\r\n\t\t\t\t\t\t\tthat.$message({\r\n\t\t\t\t\t\t\t\tmessage: '删除成功',\r\n\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\tduration: '1000',\r\n\t\t\t\t\t\t\t\tcenter: true\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.loading = true\r\n\t\t\t\t\t\t\tthat.timer = setTimeout(() => { //设置延迟执行\r\n\t\t\t\t\t\t\t\tthat.loading = false\r\n\t\t\t\t\t\t\t\tthat.$_update()\r\n\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\tMessage.error(error.response.data)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmessage: '已取消'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcancelAdd() {\r\n\t\t\t\tthis.dialogFormVisible = false\r\n\t\t\t\tMessage.error(\"已取消\")\r\n\t\t\t},\r\n\t\t\tconfirmAdd() {\r\n\t\t\t\tthis.dialogFormVisible = false\r\n\t\t\t\tthis.connectMySql()\r\n\r\n\t\t\t},\r\n\t\t\tconnectMySql() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\taxios.post(\"http://localhost:8080/api/projectTypes/insertProjectType\", {\r\n\t\t\t\t\t\tproject_type: this.form.project_type\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthat.dialogFormVisible = false\r\n\t\t\t\t\t\tif (response.data === true) {\r\n\t\t\t\t\t\t\tthat.$message({\r\n\t\t\t\t\t\t\t\tmessage: '添加成功',\r\n\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\tduration: '1000',\r\n\t\t\t\t\t\t\t\tcenter: true\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.loading = true\r\n\t\t\t\t\t\t\tthat.timer = setTimeout(() => { //设置延迟执行\r\n\t\t\t\t\t\t\t\tthat.loading = false\r\n\t\t\t\t\t\t\t\tthat.$_update()\r\n\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tMessage.warning(\"类型重复\")\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\r\n\t\t\t\t\t\tthat.dialogFormVisible = false\r\n\r\n\t\t\t\t\t\tMessage.error(error.response.data)\r\n\t\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\tthis.currentPage = val;\r\n\t\t\t},\r\n\t\t\tindexMethod(index) {\r\n\t\t\t\treturn (this.currentPage - 1) * 10 + index + 1\r\n\t\t\t},\r\n\t\t\t$_update() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\taxios.get(\"http://localhost:8080/api/projectTypes/selectAllProjectType\")\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tthat.tableData = response.data\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tMessage.error(\"请检查网络\")\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$_update()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"],"sourceRoot":"src/views/teacher/add"}]}